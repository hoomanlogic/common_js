!function(e){"use strict";"object"==typeof exports?module.exports=exports=e(require("crypto-js/aes")):"function"==typeof define&&define.amd?define(["./node_modules/crypto-js/aes.js"],e):window.hlio=e(window.CryptoJS.AES)}(function(e){"use strict";return{getImage:function(e){if("undefined"==typeof e.dataUrl||null===e.dataUrl||""===e.dataUrl||"undefined"==typeof e.fileName||null===e.fileName||""===e.fileName)return"";var t=e.fileName.lastIndexOf("."),n=e.fileName.substring(t+1,e.fileName.length).toLowerCase();return["jpg","png","gif","jpeg","tif","tiff"].contains(n)?'<img src="'+e.dataUrl+'" alt="Sent Image">':""},convertFileToDataUrl:function(e,t){var n=new FileReader;n.onloadend=function(){t(e.name,n.result)},n.readAsDataURL(e)},saveToDisk:function(e,t){if("undefined"!=typeof e&&null!==e)if(window.ActiveXObject){if(window.ActiveXObject&&document.execCommand){var n=window.open(e,"_blank");n.document.close(),n.document.execCommand("SaveAs",!0,t||e),n.close()}}else{var a=document.createElement("a");a.href=e,a.target="_blank",a.download=t||"unknown";var o=document.createEvent("Event");o.initEvent("click",!0,!0),a.dispatchEvent(o),(window.URL||window.webkitURL).revokeObjectURL(a.href)}},saveBlobToDisk:function(e,t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){var n=document.createElement("a");n.href=e.target.result,n.target="_blank",n.download=t||"unknown file";var a=document.createEvent("Event");a.initEvent("click",!0,!0),n.dispatchEvent(a),(window.URL||window.webkitURL).revokeObjectURL(n.href)}},store:function(e,t){if(t)return localStorage.setItem(e,JSON.stringify(t));var n=localStorage.getItem(e);return n&&JSON.parse(n)||[]},saveLocal:function(t,n,a){var o=JSON.stringify(n),r=e.encrypt(o,a);$.jStorage.set(t,r.toString())},loadLocal:function(t,n){var a=$.jStorage.get(t);try{var o=e.decrypt(a,n);return JSON.parse(o.toString(CryptoJS.enc.Utf8))}catch(r){return a}}}});